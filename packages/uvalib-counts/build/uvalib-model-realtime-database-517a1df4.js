var t,a;(t=window.document).getElementById("livereloadscript")||((a=t.createElement("script")).async=1,a.src="//"+(window.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",a.id="livereloadscript",t.getElementsByTagName("head")[0].appendChild(a));import"./tslib.es6-f3787ca5.js";import{f as e,a as s,o as i}from"./index.esm-99e5cbb9.js";class h extends HTMLElement{static get observedAttributes(){return["path","database","start-key","paths"]}get path(){return this._path}set path(t){this._path=t}get paths(){return this._paths}set paths(t){this._paths=t}get database(){return this._database}set database(t){this._database=t}constructor(){super()}connectedCallback(){this._database&&this._database.indexOf("uvalib-api")>-1?this.fbdatabase=e.database(s):this.fbdatabase=e.database(i),this.path?this._bindTo(this.path,this._startKey,this._data):this.paths&&this.paths&&Array.isArray(this.paths)}_dataChanged(t){}_bindTo(t,a,e){var s=this.fbdatabase.ref(t);a&&(s=s.orderByKey().startAt(a)),s.on("value",function(t){this._data=t.val(),this.dispatchEvent(new CustomEvent("last-response-changed",{bubbles:!0,composed:!0})),this.dispatchEvent(new CustomEvent("uvalib-model-data-value",{bubbles:!0,composed:!0,detail:this._data})),this._dataChanged(this._data)}.bind(this))}get series(){return this._data?this._data:null}get lastResponse(){return this._data}get data(){return this._data}get startKey(){return this._startKey}set startKey(t){this._startKey=t.toString()}attributeChangedCallback(t,a,e){switch(t){case"path":this.path=e;break;case"database":this.database=e;break;case"start-key":this.startKey=e}}}window.customElements.define("uvalib-model-realtime-database",h);export default h;
