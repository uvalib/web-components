!function(){if(!("adoptedStyleSheets"in document)){var e="ShadyCSS"in window&&!window.ShadyCSS.nativeShadow,t=[],n=[],o=new WeakMap,r=new WeakMap,a=new WeakMap,d=new WeakMap,i=new WeakMap,c={loaded:!1},s={body:null,CSSStyleSheet:null},l=CSSStyleSheet,h=/@import\surl(.*?);/gi,u=["addImport","addPageRule","addRule","deleteRule","insertRule","removeImport","removeRule"],p=["replace","replaceSync"],S=function(){function e(){var e=document.createElement("style");c.loaded?s.body.appendChild(e):(document.head.appendChild(e),e.disabled=!0,t.push(e));var n=e.sheet;return r.set(n,{adopters:new Map,actions:[],basicStyleElement:e}),n}var n=e.prototype;return n.replace=function(e){var t=this,n=v(e);return new Promise((function(e,o){if(r.has(t)){var a=r.get(t).basicStyleElement;a.innerHTML=n,e(a.sheet),w(t)}else o(new Error("Can't call replace on non-constructed CSSStyleSheets."))}))},n.replaceSync=function(e){var t=v(e);if(r.has(this)){var n=r.get(this).basicStyleElement;return n.innerHTML=t,w(this),n.sheet}throw new Error("Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.")},e}();Object.defineProperty(S,Symbol.hasInstance,{configurable:!0,value:f}),g(l.prototype),window.CSSStyleSheet=S,function(){var t={configurable:!0,get:function(){return o.get(this)||[]},set:function(e){var t=o.get(this)||[];!function(e,t){var n=t===document?"Document":"ShadowRoot";if(!Array.isArray(e))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Iterator getter is not callable.");if(!e.every(f))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+n+": Failed to convert value to 'CSSStyleSheet'");var r=e.filter((function(t,n){return e.indexOf(t)===n}));o.set(t,r)}(e,this);var n=this===document?y()?this.head:this.body:this,a="isConnected"in n?n.isConnected:document.body.contains(n);window.requestAnimationFrame((function(){a&&(b(n),function(e,t){for(var n=m(e),o=0,a=t.length;o<a;o++)if(!(n.indexOf(t[o])>-1)){var i=r.get(t[o]).adopters,c=d.get(e),s=i.get(e);s||(s=i.get(document.head)),c.disconnect(),s.parentNode.removeChild(s),c.observe()}}(n,t))}))}};if(Object.defineProperty(Document.prototype,"adoptedStyleSheets",t),"undefined"!=typeof ShadowRoot){var n=Element.prototype.attachShadow;Element.prototype.attachShadow=function(){var t=e?this:n.apply(this,arguments);return E(t),t},Object.defineProperty(ShadowRoot.prototype,"adoptedStyleSheets",t)}}(),y()?document.addEventListener("DOMContentLoaded",M):M()}function f(e){return e instanceof l||e instanceof s.CSSStyleSheet}function y(){return"loading"===document.readyState}function m(e){return o.get(e.parentNode===document.documentElement?document:e)}function v(e){var t=e.match(h,"")||[],n=e;return t.length&&(console.warn("@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418"),t.forEach((function(e){n=n.replace(e,"")}))),n}function g(e){p.forEach((function(t){e[t]=function(){return S.prototype[t].apply(this,arguments)}})),u.forEach((function(t){var n=e[t];e[t]=function(){var e=arguments,o=n.apply(this,e);if(r.has(this)){var a=r.get(this),d=a.adopters,i=a.actions;d.forEach((function(n){n.sheet&&n.sheet[t].apply(n.sheet,e)})),i.push([t,e])}return o}}))}function w(e){var t=r.get(e),n=t.adopters,o=t.basicStyleElement;n.forEach((function(e){e.innerHTML=o.innerHTML}))}function b(e){for(var t=document.createDocumentFragment(),o=m(e),c=d.get(e),s=0,l=o.length;s<l;s++){var h=r.get(o[s]),u=h.adopters,p=h.basicStyleElement,S=u.get(e);S?(c.disconnect(),t.appendChild(S),(!S.innerHTML||S.sheet&&!S.sheet.cssText)&&(S.innerHTML=p.innerHTML),c.observe()):((S=document.createElement("style")).innerHTML=p.innerHTML,a.set(S,e),i.set(S,0),u.set(e,S),t.appendChild(S)),e===document.head&&n.push(S)}e.insertBefore(t,e.firstChild);for(var f=0,y=o.length;f<y;f++){var v=r.get(o[f]),g=v.adopters,w=v.actions,b=g.get(e),C=i.get(b);if(w.length>0){for(var E=C,M=w.length;E<M;E++){var T=w[E],L=T[0],R=T[1];b.sheet[L].apply(b.sheet,R)}i.set(b,w.length-1)}}}function C(t){for(var n=0,o=t.length;n<o;n++){for(var r=t[n],d=r.addedNodes,i=r.removedNodes,c=0,s=i.length;c<s;c++){var l=a.get(i[c]);l&&b(l)}if(!e)for(var h=0,u=d.length;h<u;h++)for(var p=document.createNodeIterator(d[h],NodeFilter.SHOW_ELEMENT,(function(e){return e.shadowRoot&&e.shadowRoot.adoptedStyleSheets.length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),null,!1),S=void 0;S=p.nextNode();)b(S.shadowRoot)}}function E(e){var t=new MutationObserver(C),n={observe:function(){t.observe(e,{childList:!0,subtree:!0})},disconnect:function(){t.disconnect()}};d.set(e,n),n.observe()}function M(){var e=document.createElement("iframe");e.hidden=!0,document.body.appendChild(e),s.body=e.contentWindow.document.body,s.CSSStyleSheet=e.contentWindow.CSSStyleSheet,g(e.contentWindow.CSSStyleSheet.prototype),E(document.body),c.loaded=!0;for(var o=document.createDocumentFragment(),r=0,a=t.length;r<a;r++)t[r].disabled=!1,o.appendChild(t[r]);s.body.appendChild(o);for(var d=0,i=n.length;d<i;d++)o.appendChild(n[d]);document.body.insertBefore(o,document.body.firstChild),t.length=0,n.length=0}}();
